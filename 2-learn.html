<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>

      
    </style>
  </head>
  <body>
    <button>点击</button>
    <button>点击</button>
    <button>点击</button>
    <button>点击</button>
    <script>
      Function.prototype.myCall = function (thisArg, ...args) {
         // this指向xxx.call()中的xxx
         const fn = this;
         // 将传入的基本数据类型转化成对象， 利用Object()
         // 当传入null或者undefined, 则绑定window
         thisArg =
           thisArg !== null && thisArg !== undefined ? Object(thisArg) : window;
         // 在对象上绑定xxx函数
         thisArg.fn = fn;
         var result = thisArg.fn(...args);
         delete thisArg.fn;
         return result;
       };
      // call
      Function.prototype.myCall = function(thisArg, ...args) {
        thisArg = thisArg !== undefined && thisArg !== null ? Object(thisArg): window

        let fn = this
        thisArg.fn = fn

        let result = thisArg.fn(...args)

        delete thisArg.fn
        return result
      }

      Function.prototype.apply = function (thisArg, argArray) {
         fn = this;

         thisArg =
           thisArg !== null && thisArg !== undefined ? Object(thisArg) : window;

         thisArg.fn = fn;

         // 判断argArray是否存在
         argArray = argArray || [];
         var result = thisArg.fn(...argArray);

         delete thisArg.fn;
         return result;
       };

      Function.prototype.myApply = function(thisArg, args) {
        thisArg = thisArg !== undefined && thisArg !== null ? Object(thisArg): window

        let fn = this
        thisArg.fn = fn
        let result
        if (!args) {
          result = thisArg.fn()
        } else {
          result = thisArg.fn(...args)
        }
        delete thisArg.fn
        return result
      }


      
    </script>
  </body>
</html>




